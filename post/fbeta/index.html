<!doctype html><html dir=ltr lang=en data-theme class="html theme--light"><head><title>Beyond F1: using the Fbeta_score for better model evaluation |
Saikat Kumar Dey</title><meta charset=utf-8><meta name=generator content="Hugo 0.111.3"><meta name=viewport content="width=device-width,initial-scale=1,viewport-fit=cover"><meta name=author content="Saikat Kumar Dey"><meta name=description content="Machine Learning Engineer"><link rel=stylesheet href=/scss/main.min.1147aa5bacb4bce677a0e264073829caedb82fd18ea07a5f1d80521f539d1c45.css integrity="sha256-EUeqW6y0vOZ3oOJkBzgpyu24L9GOoHpfHYBSH1OdHEU=" crossorigin=anonymous type=text/css><link rel=stylesheet href=/css/markupHighlight.min.73ccfdf28df555e11009c13c20ced067af3cb021504cba43644c705930428b00.css integrity="sha256-c8z98o31VeEQCcE8IM7QZ688sCFQTLpDZExwWTBCiwA=" crossorigin=anonymous type=text/css><link rel=stylesheet href=/fontawesome/css/fontawesome.min.7d272de35b410fb165377550cdf9c4d3a80fbbcc961e111914e4d5c0eaf5729f.css integrity="sha256-fSct41tBD7FlN3VQzfnE06gPu8yWHhEZFOTVwOr1cp8=" crossorigin=anonymous type=text/css><link rel=stylesheet href=/fontawesome/css/solid.min.55d8333481b07a08e07cf6f37319753a2b47e99f4c395394c5747b48b495aa9b.css integrity="sha256-VdgzNIGwegjgfPbzcxl1OitH6Z9MOVOUxXR7SLSVqps=" crossorigin=anonymous type=text/css><link rel=stylesheet href=/fontawesome/css/regular.min.a7448d02590b43449364b6b5922ed9af5410abb4de4238412a830316dedb850b.css integrity="sha256-p0SNAlkLQ0STZLa1ki7Zr1QQq7TeQjhBKoMDFt7bhQs=" crossorigin=anonymous type=text/css><link rel=stylesheet href=/fontawesome/css/brands.min.9ed75a5d670c953fe4df935937674b4646f92674367e9e66eb995bb04e821647.css integrity="sha256-ntdaXWcMlT/k35NZN2dLRkb5JnQ2fp5m65lbsE6CFkc=" crossorigin=anonymous type=text/css><link rel="shortcut icon" href=/favicons/favicon.ico type=image/x-icon><link rel=apple-touch-icon sizes=180x180 href=/favicons/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicons/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicons/favicon-16x16.png><link rel=canonical href=https://saikatkumardey.com/post/fbeta/><script type=text/javascript src=/js/anatole-header.min.f9132794301a01ff16550ed66763482bd848f62243d278f5e550229a158bfd32.js integrity="sha256-+RMnlDAaAf8WVQ7WZ2NIK9hI9iJD0nj15VAimhWL/TI=" crossorigin=anonymous></script>
<script type=text/javascript src=/js/anatole-theme-switcher.min.d6d329d93844b162e8bed1e915619625ca91687952177552b9b3e211014a2957.js integrity="sha256-1tMp2ThEsWLovtHpFWGWJcqRaHlSF3VSubPiEQFKKVc=" crossorigin=anonymous></script><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://saikatkumardey.com/images/site-feature-image.png"><meta name=twitter:title content="Beyond F1: using the Fbeta_score for better model evaluation"><meta name=twitter:description content="Learn how to use the Fbeta_score, a powerful and flexible evaluation metric for classification tasks that allows the user to adjust the balance between precision and recall."><meta property="og:title" content="Beyond F1: using the Fbeta_score for better model evaluation"><meta property="og:description" content="Learn how to use the Fbeta_score, a powerful and flexible evaluation metric for classification tasks that allows the user to adjust the balance between precision and recall."><meta property="og:type" content="article"><meta property="og:url" content="https://saikatkumardey.com/post/fbeta/"><meta property="og:image" content="https://saikatkumardey.com/images/site-feature-image.png"><meta property="article:section" content="post"><meta property="article:published_time" content="2022-12-01T21:08:28+05:30"><meta property="article:modified_time" content="2022-12-01T21:08:28+05:30"><meta property="og:site_name" content="Saikat Kumar Dey"><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","articleSection":"post","name":"Beyond F1: using the Fbeta_score for better model evaluation","headline":"Beyond F1: using the Fbeta_score for better model evaluation","alternativeHeadline":"","description":"
      
        Learn how to use the Fbeta_score, a powerful and flexible evaluation metric for classification tasks that allows the user to adjust the balance between precision and recall.


      


    ","inLanguage":"en","isFamilyFriendly":"true","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/saikatkumardey.com\/post\/fbeta\/"},"author":{"@type":"Person","name":"Saikat Kumar Dey"},"creator":{"@type":"Person","name":"Saikat Kumar Dey"},"accountablePerson":{"@type":"Person","name":"Saikat Kumar Dey"},"copyrightHolder":{"@type":"Person","name":"Saikat Kumar Dey"},"copyrightYear":"2022","dateCreated":"2022-12-01T21:08:28.00Z","datePublished":"2022-12-01T21:08:28.00Z","dateModified":"2022-12-01T21:08:28.00Z","publisher":{"@type":"Organization","name":"Saikat Kumar Dey","url":"https://saikatkumardey.com","logo":{"@type":"ImageObject","url":"https:\/\/saikatkumardey.com\/favicons\/favicon-32x32.png","width":"32","height":"32"}},"image":["https://saikatkumardey.com/images/site-feature-image.png"],"url":"https:\/\/saikatkumardey.com\/post\/fbeta\/","wordCount":"567","genre":["daily"],"keywords":[]}</script></head><body class=body><div class=wrapper><aside class=wrapper__sidebar><div class="sidebar
animated fadeInDown"><div class=sidebar__content><div class=sidebar__introduction><img class=sidebar__introduction-profileimage src=/images/dp.jpg alt="profile picture"><div class=sidebar__introduction-title><a href=/>Saikat Kumar Dey</a></div><div class=sidebar__introduction-description><p>Machine Learning Engineer</p></div></div><ul class=sidebar__list><li class=sidebar__list-item><a href=https://linkedin.com/in/saikatkumardey target=_blank rel="noopener me" aria-label=Linkedin title=Linkedin><i class="fab fa-linkedin fa-2x" aria-hidden=true></i></a></li><li class=sidebar__list-item><a href=https://github.com/saikatkumardey/ target=_blank rel="noopener me" aria-label=GitHub title=GitHub><i class="fab fa-github fa-2x" aria-hidden=true></i></a></li><li class=sidebar__list-item><a href=https://www.instagram.com/saikatkumardey/ target=_blank rel="noopener me" aria-label=instagram title=instagram><i class="fab fa-instagram fa-2x" aria-hidden=true></i></a></li><li class=sidebar__list-item><a href=https://twitter.com/saikatkrdey target=_blank rel="noopener me" aria-label=twitter title=twitter><i class="fab fa-twitter fa-2x" aria-hidden=true></i></a></li></ul></div><footer class="footer footer__sidebar"><ul class=footer__list><li class=footer__item>&copy;
Saikat Kumar Dey
2023</li></ul></footer><script type=text/javascript src=/js/medium-zoom.min.1248fa75275e5ef0cbef27e8c1e27dc507c445ae3a2c7d2ed0be0809555dac64.js integrity="sha256-Ekj6dSdeXvDL7yfoweJ9xQfERa46LH0u0L4ICVVdrGQ=" crossorigin=anonymous></script></div></aside><main class=wrapper__main><header class=header><div class="animated fadeInDown"><a role=button class=navbar-burger data-target=navMenu aria-label=menu aria-expanded=false><span aria-hidden=true class=navbar-burger__line></span>
<span aria-hidden=true class=navbar-burger__line></span>
<span aria-hidden=true class=navbar-burger__line></span></a><nav class=nav><ul class=nav__list id=navMenu><li class=nav__list-item><a href=/ title>Home</a></li><li class=nav__list-item><a href=/post/ title>Posts</a></li><li class=nav__list-item><a href=/projects/ title>Projects</a></li><li class=nav__list-item><a href=/now/ title>Now</a></li><li class=nav__list-item><a href=/contact/ title>Contact</a></li></ul><ul class="nav__list nav__list--end"><li class=nav__list-item><div class=themeswitch><a title="Switch Theme"><i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></div></li></ul></nav></div></header><div class="post
animated fadeInDown"><div class=post__content><h1>Beyond F1: Using the Fbeta_score for Better Model Evaluation</h1><ul class=post__meta><li class=post__meta-item><em class="fas fa-calendar-day post__meta-icon"></em>
<span class=post__meta-text>1/12/2022</span></li><li class=post__meta-item><em class="fas fa-stopwatch post__meta-icon"></em>
<span class=post__meta-text>3-minute read</span></li></ul><p>Hey everyone!</p><p>Today I want to talk about a little-known evaluation metric: Fbeta_score.</p><p>If you&rsquo;re familiar with machine learning, you&rsquo;ve probably heard of F1 score. It&rsquo;s a common metric used to evaluate the performance of classification models, and it&rsquo;s defined as the harmonic mean of precision and recall. This is great for a lot of tasks, but there are some situations where F1 score might not be the best choice.</p><p>Enter Fbeta_score. It&rsquo;s similar to F1 score, but it allows you to adjust the balance between precision and recall by changing the value of beta. This can be useful in situations where you want to emphasize one of these metrics over the other.</p><p>For example, let&rsquo;s say you&rsquo;re training a model to predict whether an image contains a cat or a dog. If you&rsquo;re using F1 score, you&rsquo;re treating precision and recall equally, but what if you want to put more emphasis on recall? This is where Fbeta_score comes in handy. By setting beta to a value greater than 1, you can increase the weight of recall in the metric, and by setting it to a value less than 1, you can decrease the weight of recall.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>Fbeta_score</span> <span class=o>=</span> <span class=p>(</span><span class=mi>1</span> <span class=o>+</span> <span class=n>beta</span><span class=o>^</span><span class=mi>2</span><span class=p>)</span> <span class=o>*</span> <span class=p>(</span><span class=n>precision</span> <span class=o>*</span> <span class=n>recall</span><span class=p>)</span> <span class=o>/</span> <span class=p>(</span><span class=n>beta</span><span class=o>^</span><span class=mi>2</span> <span class=o>*</span> <span class=n>precision</span> <span class=o>+</span> <span class=n>recall</span><span class=p>)</span>
</span></span></code></pre></div><p>where precision is the fraction of true positives over the sum of true positives and false positives, and recall is the fraction of true positives over the sum of true positives and false negatives.</p><p><strong>How to choose a beta?</strong></p><p><strong>beta = 1</strong>
When beta=1, the Fbeta_score is equivalent to the F1 score, which treats precision and recall equally. This is a good default value to use if you don&rsquo;t have any specific preferences or requirements regarding the balance between precision and recall.</p><p><strong>beta &lt; 1</strong>
If you want to emphasize precision over recall, you can use a value of beta less than 1. For example, setting beta=0.5 will give precision twice as much weight as recall in the metric. This can be useful if you want to minimize the number of false positives, or if the cost of a false positive is higher than the cost of a false negative.</p><p><strong>beta > 1</strong>
On the other hand, if you want to emphasize recall over precision, you can use a value of beta greater than 1. For example, setting beta=2 will give recall twice as much weight as precision in the metric. This can be useful if you want to maximize the number of true positives, or if the cost of a false negative is higher than the cost of a false positive.</p><p>In general, the best value of beta to use will depend on the specific goals and requirements of the task at hand. By experimenting with different values of beta, you can find the setting that produces the best results for your specific dataset and task.</p><p>Here&rsquo;s how to use Fbeta_score in Python:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>sklearn.metrics</span> <span class=kn>import</span> <span class=n>fbeta_score</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Generate some predictions</span>
</span></span><span class=line><span class=cl><span class=n>y_pred</span> <span class=o>=</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Compute the Fbeta_score</span>
</span></span><span class=line><span class=cl><span class=n>fbeta_score</span><span class=p>(</span><span class=n>y_true</span><span class=p>,</span> <span class=n>y_pred</span><span class=p>,</span> <span class=n>beta</span><span class=o>=</span><span class=mf>1.0</span><span class=p>)</span>
</span></span></code></pre></div><p>In the code above, y_pred is a list of binary predictions, and y_true is a list of ground-truth labels. We can then use the fbeta_score function from scikit-learn to compute the Fbeta_score. By default, this will compute the F1 score (i.e. beta=1.0), but you can adjust the value of beta to change the balance between precision and recall.</p></div><div class=post__footer><span><a class=category href=/categories/daily/>daily</a></span></div></div></main></div><footer class="footer footer__base"><ul class=footer__list><li class=footer__item>&copy;
Saikat Kumar Dey
2023</li></ul></footer><script type=text/javascript src=/js/medium-zoom.min.1248fa75275e5ef0cbef27e8c1e27dc507c445ae3a2c7d2ed0be0809555dac64.js integrity="sha256-Ekj6dSdeXvDL7yfoweJ9xQfERa46LH0u0L4ICVVdrGQ=" crossorigin=anonymous></script></body></html>