<!doctype html><html dir=ltr lang=en data-theme class="html theme--light"><head><title>I summarised a 3 hour long youtube video using Langchain + Claude |
Saikat Kumar Dey</title><meta charset=utf-8><meta name=generator content="Hugo 0.111.3"><meta name=viewport content="width=device-width,initial-scale=1,viewport-fit=cover"><meta name=author content="Saikat Kumar Dey"><meta name=description content="Machine Learning Engineer"><link rel=stylesheet href=/scss/main.min.1147aa5bacb4bce677a0e264073829caedb82fd18ea07a5f1d80521f539d1c45.css integrity="sha256-EUeqW6y0vOZ3oOJkBzgpyu24L9GOoHpfHYBSH1OdHEU=" crossorigin=anonymous type=text/css><link rel=stylesheet href=/css/markupHighlight.min.73ccfdf28df555e11009c13c20ced067af3cb021504cba43644c705930428b00.css integrity="sha256-c8z98o31VeEQCcE8IM7QZ688sCFQTLpDZExwWTBCiwA=" crossorigin=anonymous type=text/css><link rel=stylesheet href=/fontawesome/css/fontawesome.min.7d272de35b410fb165377550cdf9c4d3a80fbbcc961e111914e4d5c0eaf5729f.css integrity="sha256-fSct41tBD7FlN3VQzfnE06gPu8yWHhEZFOTVwOr1cp8=" crossorigin=anonymous type=text/css><link rel=stylesheet href=/fontawesome/css/solid.min.55d8333481b07a08e07cf6f37319753a2b47e99f4c395394c5747b48b495aa9b.css integrity="sha256-VdgzNIGwegjgfPbzcxl1OitH6Z9MOVOUxXR7SLSVqps=" crossorigin=anonymous type=text/css><link rel=stylesheet href=/fontawesome/css/regular.min.a7448d02590b43449364b6b5922ed9af5410abb4de4238412a830316dedb850b.css integrity="sha256-p0SNAlkLQ0STZLa1ki7Zr1QQq7TeQjhBKoMDFt7bhQs=" crossorigin=anonymous type=text/css><link rel=stylesheet href=/fontawesome/css/brands.min.9ed75a5d670c953fe4df935937674b4646f92674367e9e66eb995bb04e821647.css integrity="sha256-ntdaXWcMlT/k35NZN2dLRkb5JnQ2fp5m65lbsE6CFkc=" crossorigin=anonymous type=text/css><link rel="shortcut icon" href=/favicons/favicon.ico type=image/x-icon><link rel=apple-touch-icon sizes=180x180 href=/favicons/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicons/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicons/favicon-16x16.png><link rel=canonical href=https://saikatkumardey.com/post/claude+langchain+youtube/><script type=text/javascript src=/js/anatole-header.min.f9132794301a01ff16550ed66763482bd848f62243d278f5e550229a158bfd32.js integrity="sha256-+RMnlDAaAf8WVQ7WZ2NIK9hI9iJD0nj15VAimhWL/TI=" crossorigin=anonymous></script>
<script type=text/javascript src=/js/anatole-theme-switcher.min.d6d329d93844b162e8bed1e915619625ca91687952177552b9b3e211014a2957.js integrity="sha256-1tMp2ThEsWLovtHpFWGWJcqRaHlSF3VSubPiEQFKKVc=" crossorigin=anonymous></script><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://saikatkumardey.com/images/site-feature-image.png"><meta name=twitter:title content="I summarised a 3 hour long youtube video using Langchain + Claude"><meta name=twitter:description content="I used Langchain + Claude to summarise Sam Altman&rsquo;s testimony to the US Senate on AI."><meta property="og:title" content="I summarised a 3 hour long youtube video using Langchain + Claude"><meta property="og:description" content="I used Langchain + Claude to summarise Sam Altman&rsquo;s testimony to the US Senate on AI."><meta property="og:type" content="article"><meta property="og:url" content="https://saikatkumardey.com/post/claude+langchain+youtube/"><meta property="og:image" content="https://saikatkumardey.com/images/site-feature-image.png"><meta property="article:section" content="post"><meta property="article:published_time" content="2023-05-18T20:03:57+05:30"><meta property="article:modified_time" content="2023-05-18T20:03:57+05:30"><meta property="og:site_name" content="Saikat Kumar Dey"><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","articleSection":"post","name":"I summarised a 3 hour long youtube video using Langchain \u002b Claude","headline":"I summarised a 3 hour long youtube video using Langchain \u002b Claude","alternativeHeadline":"","description":"
      
        I used Langchain \u002b Claude to summarise Sam Altman\u0026rsquo;s testimony to the US Senate on AI.


      


    ","inLanguage":"en","isFamilyFriendly":"true","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/saikatkumardey.com\/post\/claude\u002blangchain\u002byoutube\/"},"author":{"@type":"Person","name":"Saikat Kumar Dey"},"creator":{"@type":"Person","name":"Saikat Kumar Dey"},"accountablePerson":{"@type":"Person","name":"Saikat Kumar Dey"},"copyrightHolder":{"@type":"Person","name":"Saikat Kumar Dey"},"copyrightYear":"2023","dateCreated":"2023-05-18T20:03:57.00Z","datePublished":"2023-05-18T20:03:57.00Z","dateModified":"2023-05-18T20:03:57.00Z","publisher":{"@type":"Organization","name":"Saikat Kumar Dey","url":"https://saikatkumardey.com","logo":{"@type":"ImageObject","url":"https:\/\/saikatkumardey.com\/favicons\/favicon-32x32.png","width":"32","height":"32"}},"image":["https://saikatkumardey.com/images/site-feature-image.png"],"url":"https:\/\/saikatkumardey.com\/post\/claude\u002blangchain\u002byoutube\/","wordCount":"643","genre":["notes"],"keywords":["llm","ai","claude","langchain"]}</script></head><body class=body><div class=wrapper><aside class=wrapper__sidebar><div class="sidebar
animated fadeInDown"><div class=sidebar__content><div class=sidebar__introduction><img class=sidebar__introduction-profileimage src=/images/dp.jpg alt="profile picture"><div class=sidebar__introduction-title><a href=/>Saikat Kumar Dey</a></div><div class=sidebar__introduction-description><p>Machine Learning Engineer</p></div></div><ul class=sidebar__list><li class=sidebar__list-item><a href=https://linkedin.com/in/saikatkumardey target=_blank rel="noopener me" aria-label=Linkedin title=Linkedin><i class="fab fa-linkedin fa-2x" aria-hidden=true></i></a></li><li class=sidebar__list-item><a href=https://github.com/saikatkumardey/ target=_blank rel="noopener me" aria-label=GitHub title=GitHub><i class="fab fa-github fa-2x" aria-hidden=true></i></a></li><li class=sidebar__list-item><a href=https://www.instagram.com/saikatkumardey/ target=_blank rel="noopener me" aria-label=instagram title=instagram><i class="fab fa-instagram fa-2x" aria-hidden=true></i></a></li><li class=sidebar__list-item><a href=https://twitter.com/saikatkrdey target=_blank rel="noopener me" aria-label=twitter title=twitter><i class="fab fa-twitter fa-2x" aria-hidden=true></i></a></li><li class=sidebar__list-item><a href=mailto:saikat@saikatkumardey.com target=_blank rel="noopener me" aria-label=Email title=Email><i class="fas fa-envelope fa-2x" aria-hidden=true></i></a></li></ul></div><footer class="footer footer__sidebar"><ul class=footer__list><li class=footer__item>&copy;
Saikat Kumar Dey
2023</li></ul></footer><script type=text/javascript src=/js/medium-zoom.min.1248fa75275e5ef0cbef27e8c1e27dc507c445ae3a2c7d2ed0be0809555dac64.js integrity="sha256-Ekj6dSdeXvDL7yfoweJ9xQfERa46LH0u0L4ICVVdrGQ=" crossorigin=anonymous></script></div></aside><main class=wrapper__main><header class=header><div class="animated fadeInDown"><a role=button class=navbar-burger data-target=navMenu aria-label=menu aria-expanded=false><span aria-hidden=true class=navbar-burger__line></span>
<span aria-hidden=true class=navbar-burger__line></span>
<span aria-hidden=true class=navbar-burger__line></span></a><nav class=nav><ul class=nav__list id=navMenu><li class=nav__list-item><a href=/ title>Home</a></li><li class=nav__list-item><a href=/post/ title>Posts</a></li><li class=nav__list-item><a href=https://ai.saikatkumardey.com target=_blank rel="noopener noreferrer" title>AI</a></li><li class=nav__list-item><a href=/projects/ title>Projects</a></li><li class=nav__list-item><a href=/now/ title>Now</a></li><li class=nav__list-item><a href=/contact/ title>Contact</a></li></ul><ul class="nav__list nav__list--end"><li class=nav__list-item><div class=themeswitch><a title="Switch Theme"><i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></div></li></ul></nav></div></header><div class="post
animated fadeInDown"><div class=post__content><h1>I Summarised a 3 Hour Long Youtube Video Using Langchain + Claude</h1><ul class=post__meta><li class=post__meta-item><em class="fas fa-calendar-day post__meta-icon"></em>
<span class=post__meta-text>18/5/2023</span></li><li class=post__meta-item><em class="fas fa-stopwatch post__meta-icon"></em>
<span class=post__meta-text>4-minute read</span></li></ul><p>I used Langchain + Claude to summarise <a href="https://www.youtube.com/watch/?v=fP5YdyjTfG0">Sam Altman&rsquo;s testimony to the US Senate on AI</a>. The video is 3 hours long and the transcript has about 30k+ tokens. I used Langchain to extract the transcript and Claude to summarise it. The result is a 1 page summary of the key points from the video. I have included the summary, code, and prompt below.</p><p>Tech:</p><ul><li>Langchain to extract the transcript from YouTube</li><li>Claude (<code>claude-instant-v1-100k</code>) to summarise the transcript</li></ul><h2 id=prompt>Prompt</h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>&#34;&#34;&#34;
</span></span><span class=line><span class=cl>Please write a professional summary with a beginning, middle, and end based on the video transcript.
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Instructions
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>- Do not include any details that are not mentioned in the video.
</span></span><span class=line><span class=cl>- Use bullet points and section headers to organize your summary.
</span></span><span class=line><span class=cl>- Do not include any personal opinions or thoughts.
</span></span><span class=line><span class=cl>- Include title, introduction, witnesses, their testimonies, key takeaways and conclusion.
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Video transcript:
</span></span><span class=line><span class=cl>&#34;&#34;&#34;
</span></span></code></pre></div><h2 id=summary>Summary</h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Here is a professional summary of the key points from the Senate hearing on AI oversight:
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl># Senate Hearing on AI Oversight - May 16, 2023
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>## Witnesses
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>- Sam Altman, CEO of OpenAI 
</span></span><span class=line><span class=cl>- Christina Montgomery, IBM&#39;s Vice President and Chief Privacy and Trust Officer  
</span></span><span class=line><span class=cl>- Gary Marcus, AI scientist and entrepreneur
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>## Key Takeaways
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>- AI has the potential for both great benefits and substantial risks. Proper oversight and regulation are needed to maximize the benefits while mitigating the risks.
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>- Witnesses recommend a combination of self-regulation by AI companies and government regulation to ensure trustworthy and safe AI. 
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>- High-risk uses of AI, such as those impacting elections, medical advice, and national security, should face the strictest oversight and regulation.
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>- Transparency, accountability, and limits on certain AI capabilities are seen as important principles for a regulatory framework.
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>- An independent agency focused on AI may be needed to keep up with the rapid pace of AI development. However, proper resources and expertise will be critical for such an agency to be effective.
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>- International coordination will also be important given the global nature of AI development and risks. The U.S. should take a leadership role in setting responsible AI standards.
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>## Conclusion
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>The hearing highlighted both the promise and potential pitfalls of generative AI. While witnesses differed in some details, there was broad agreement that a combination of self-regulation, government oversight, and international coordination will be essential to maximize the benefits of AI technologies while mitigating the risks. The Senate considers this hearing as the first step in developing appropriate policies and safeguards for AI.
</span></span></code></pre></div><h2 id=code>Code</h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>argparse</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>os</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>anthropic</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>langchain.document_loaders</span> <span class=kn>import</span> <span class=n>YoutubeLoader</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>load_transcript</span><span class=p>(</span><span class=n>url</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>loader</span> <span class=o>=</span> <span class=n>YoutubeLoader</span><span class=o>.</span><span class=n>from_youtube_url</span><span class=p>(</span>
</span></span><span class=line><span class=cl>        <span class=n>url</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=n>add_video_info</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>docs</span> <span class=o>=</span> <span class=n>loader</span><span class=o>.</span><span class=n>load</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=nb>len</span><span class=p>(</span><span class=n>docs</span><span class=p>)</span> <span class=o>==</span> <span class=mi>0</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=s2>&#34;Sorry, No transcript found.😢&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>docs</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>write_summary</span><span class=p>(</span><span class=n>doc</span><span class=p>):</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>anthropic_key</span> <span class=o>=</span> <span class=n>os</span><span class=o>.</span><span class=n>getenv</span><span class=p>(</span><span class=s2>&#34;ANTHROPIC_KEY&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>client</span> <span class=o>=</span> <span class=n>anthropic</span><span class=o>.</span><span class=n>Client</span><span class=p>(</span><span class=n>anthropic_key</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>prompt</span> <span class=o>=</span> <span class=sa>f</span><span class=s2>&#34;&#34;&#34;
</span></span></span><span class=line><span class=cl><span class=s2>Please write a professional summary with a beginning, middle, and end based on the video transcript.
</span></span></span><span class=line><span class=cl><span class=s2>
</span></span></span><span class=line><span class=cl><span class=s2>Instructions
</span></span></span><span class=line><span class=cl><span class=s2>
</span></span></span><span class=line><span class=cl><span class=s2>- Do not include any details that are not mentioned in the video.
</span></span></span><span class=line><span class=cl><span class=s2>- Use bullet points and section headers to organize your summary.
</span></span></span><span class=line><span class=cl><span class=s2>- Do not include any personal opinions or thoughts.
</span></span></span><span class=line><span class=cl><span class=s2>- Include title, introduction, witnesses, their testimonies, key takeaways and conclusion.
</span></span></span><span class=line><span class=cl><span class=s2>
</span></span></span><span class=line><span class=cl><span class=s2>
</span></span></span><span class=line><span class=cl><span class=s2>Video transcript:
</span></span></span><span class=line><span class=cl><span class=s2>
</span></span></span><span class=line><span class=cl><span class=s2></span><span class=si>{</span><span class=n>doc</span><span class=o>.</span><span class=n>dict</span><span class=p>()</span><span class=si>}</span><span class=s2>
</span></span></span><span class=line><span class=cl><span class=s2>
</span></span></span><span class=line><span class=cl><span class=s2>&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=n>prompt_formatted</span> <span class=o>=</span> <span class=p>(</span>
</span></span><span class=line><span class=cl>        <span class=sa>f</span><span class=s2>&#34;</span><span class=si>{</span><span class=n>anthropic</span><span class=o>.</span><span class=n>HUMAN_PROMPT</span><span class=si>}{</span><span class=n>prompt</span><span class=si>}</span><span class=se>\n</span><span class=si>{</span><span class=n>anthropic</span><span class=o>.</span><span class=n>AI_PROMPT</span><span class=si>}</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>response</span> <span class=o>=</span> <span class=n>client</span><span class=o>.</span><span class=n>completion</span><span class=p>(</span>
</span></span><span class=line><span class=cl>        <span class=n>prompt</span><span class=o>=</span><span class=n>prompt_formatted</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=n>stop_sequences</span><span class=o>=</span><span class=p>[</span><span class=n>anthropic</span><span class=o>.</span><span class=n>HUMAN_PROMPT</span><span class=p>],</span>
</span></span><span class=line><span class=cl>        <span class=n>model</span><span class=o>=</span><span class=s2>&#34;claude-instant-v1-100k&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=n>max_tokens_to_sample</span><span class=o>=</span><span class=mi>100000</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=n>temperature</span><span class=o>=</span><span class=mf>0.3</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>response</span><span class=p>[</span><span class=s2>&#34;completion&#34;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>main</span><span class=p>():</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>parser</span> <span class=o>=</span> <span class=n>argparse</span><span class=o>.</span><span class=n>ArgumentParser</span><span class=p>(</span>
</span></span><span class=line><span class=cl>        <span class=n>description</span><span class=o>=</span><span class=s2>&#34;Write a professional summary based on a YouTube video transcript.&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>parser</span><span class=o>.</span><span class=n>add_argument</span><span class=p>(</span><span class=s2>&#34;url&#34;</span><span class=p>,</span> <span class=nb>type</span><span class=o>=</span><span class=nb>str</span><span class=p>,</span> <span class=n>help</span><span class=o>=</span><span class=s2>&#34;The YouTube URL of the video.&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>args</span> <span class=o>=</span> <span class=n>parser</span><span class=o>.</span><span class=n>parse_args</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=k>try</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>doc</span> <span class=o>=</span> <span class=n>load_transcript</span><span class=p>(</span><span class=n>args</span><span class=o>.</span><span class=n>url</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>summary</span> <span class=o>=</span> <span class=n>write_summary</span><span class=p>(</span><span class=n>doc</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=n>summary</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>except</span> <span class=ne>Exception</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=n>e</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s2>&#34;__main__&#34;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>main</span><span class=p>()</span>
</span></span></code></pre></div><h2 id=run-the-script>Run the script</h2><ul><li>First install the required packages:</li></ul><p><code>pip install anthropic langchain</code></p><ul><li><p>Then set the <code>ANTHROPIC_KEY</code> environment variable to your API key obtained from <a href=https://console.anthropic.com>Anthropic Console</a>.</p></li><li><p>Run this script with the following command:</p></li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>python3 main.py https://www.youtube.com/watch/?v<span class=o>=</span>fP5YdyjTfG0
</span></span></code></pre></div><p><strong>Fun fact:</strong> <em>Bing Chat (GPT-4) helped me organise my dirty notebook into a nice CLI script which I share with you all today.</em></p></div><div class=post__footer><span><a class=category href=/categories/notes/>notes</a></span>
<span><a class=tag href=/tags/llm/>llm</a><a class=tag href=/tags/ai/>ai</a><a class=tag href=/tags/claude/>claude</a><a class=tag href=/tags/langchain/>langchain</a></span></div></div></main></div><footer class="footer footer__base"><ul class=footer__list><li class=footer__item>&copy;
Saikat Kumar Dey
2023</li></ul></footer><script type=text/javascript src=/js/medium-zoom.min.1248fa75275e5ef0cbef27e8c1e27dc507c445ae3a2c7d2ed0be0809555dac64.js integrity="sha256-Ekj6dSdeXvDL7yfoweJ9xQfERa46LH0u0L4ICVVdrGQ=" crossorigin=anonymous></script></body></html>