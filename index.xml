<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Saikat Kumar Dey</title><link>https://saikatkumardey.com/</link><description>Saikat Kumar Dey</description><generator>Hugo -- gohugo.io</generator><lastBuildDate>Sun, 29 May 2022 22:54:52 +0530</lastBuildDate><atom:link href="https://saikatkumardey.com/index.xml" rel="self" type="application/rss+xml"/><item><title>Own Your Content</title><link>https://saikatkumardey.com/daily/own-your-content/</link><pubDate>Sun, 29 May 2022 22:54:52 +0530</pubDate><guid>https://saikatkumardey.com/daily/own-your-content/</guid><description>&lt;p>Over a decade or so, I have written blog posts in different platforms scattered all over the Internet.&lt;/p>
&lt;p>What happens when those companies go out of business? All of your data would be lost unless you&amp;rsquo;ve kept a backup.&lt;/p>
&lt;p>&lt;a href="https://sive.rs/plaintext">Derek Sivers&lt;/a> recommends keeping your content on text files. Text files are cross-platform &amp;amp; easy to manage. You could easily convert them to the format of your choice. You do not need the internet to access your files. Sure, online platforms might provide a better UI. However, you don&amp;rsquo;t really need the distraction while putting down your raw thoughts.&lt;/p>
&lt;p>I have many ideas jotted down across multiple platforms, apps and yes, text files on my devices. From now on, I will use this website as my own digital garden to keep it all. I will start gathering all my posts from the past scattered across different platforms and share them in this space.&lt;/p></description></item><item><title>Never Too Late</title><link>https://saikatkumardey.com/daily/never-too-late/</link><pubDate>Sun, 29 May 2022 22:40:51 +0530</pubDate><guid>https://saikatkumardey.com/daily/never-too-late/</guid><description>&lt;p>Van Gogh started painting seriously at 27.&lt;/p>
&lt;p>He created over 2000 artworks over a decade, most of which were created in the last 2 years of his life.&lt;/p>
&lt;p>It&amp;rsquo;s never too late to start anything and become world class at it.&lt;/p>
&lt;p>Van Gogh did it. You could do it too.&lt;/p></description></item><item><title>Keep Investing</title><link>https://saikatkumardey.com/daily/keep-investing/</link><pubDate>Sat, 28 May 2022 21:03:26 +0530</pubDate><guid>https://saikatkumardey.com/daily/keep-investing/</guid><description>&lt;p>If you have money to spare, invest it.&lt;/p>
&lt;p>When the market is down, it&amp;rsquo;s giving you an opportunity to buy equity at a discount.&lt;/p>
&lt;p>Do not pick individual stocks. You&amp;rsquo;re not a trader. Invest into index funds &amp;amp; ETFs instead. Read up on &lt;a href="https://www.bogleheads.org/wiki/Getting_started">Bogleheads Philosophy&lt;/a>.&lt;/p>
&lt;p>Automate your investments. SIPs are the way to go. Time in the market is more important than timing the market.&lt;/p>
&lt;p>The real fruit of your investments will be seen years later. Let compound interest do her thing silently.&lt;/p>
&lt;p>You should focus on being the best at what you do. Worrying about the market is a waste of your time which could be utilised in honing your craft.&lt;/p>
&lt;p>When the market is up, keep buying. When the market is down, buy more.&lt;/p></description></item><item><title>What I'm doing now</title><link>https://saikatkumardey.com/now/</link><pubDate>Fri, 27 May 2022 00:58:39 +0530</pubDate><guid>https://saikatkumardey.com/now/</guid><description>&lt;h2 id="work">Work&lt;/h2>
&lt;p>I am working as a Senior Data Scientist at &lt;a href="https://www.gojek.io/">Gojek&lt;/a>.&lt;/p>
&lt;h2 id="side-projects">Side-Projects&lt;/h2>
&lt;p>I have started &lt;a href="https://pixifide.com">Pixifide&lt;/a> with my &lt;a href="https://www.linkedin.com/in/keshav-agarwal-in/">friend&lt;/a> to enhance low-resolution, blurry photos using AI.&lt;/p>
&lt;p>I have recently started building &lt;a href="https://tinymlprojects.com">Tinymlprojects&lt;/a> to share ML projects which could be quickly accomplished over a weekend. This is my way to share my experiments with different ML techniques.&lt;/p>
&lt;h2 id="writing">Writing&lt;/h2>
&lt;p>I want to become a better writer. I&amp;rsquo;ve re-designed my personal website. I have started sharing my thoughts on &lt;a href="https://saikatkumardey.com/daily/">daily posts&lt;/a>. I hope to gather momentum to write more everyday.&lt;/p>
&lt;h2 id="reading">Reading&lt;/h2>
&lt;p>I am currently reading &lt;a href="https://www.goodreads.com/book/show/10825053-life-is-short-and-so-is-this-book">Life Is Short And So Is This Book
&lt;/a> by Peter Atkins.&lt;/p>
&lt;h2 id="football">Football&lt;/h2>
&lt;p>I am looking forward to getting my hands on some tickets for FIFA World Cup 2022. The results for the phase 2 of random selection draw will come out by 31 May 2022. ðŸ¤ž&lt;/p>
&lt;hr>
&lt;p>&lt;em>Thanks to &lt;a href="(https://sive.rs/now)">Derek Sivers&lt;/a> for sharing the idea of having a now page&lt;/em>&lt;/p></description></item><item><title>Hosting on Github Pages</title><link>https://saikatkumardey.com/daily/hosting-on-github-pages/</link><pubDate>Fri, 27 May 2022 00:44:31 +0530</pubDate><guid>https://saikatkumardey.com/daily/hosting-on-github-pages/</guid><description>&lt;ul>
&lt;li>
&lt;p>Make sure you have a &lt;a href="https://github.com/saikatkumardey/saikatkumardey.github.io/blob/main/CNAME">CNAME&lt;/a> file with your custom website in it. Make sure that you have it in your &amp;ldquo;gh-pages&amp;rdquo; branch.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Ensure that you have configured the CNAME in your DNS provider&amp;rsquo;s console. I am using &lt;a href="https://www.cloudflare.com/">Cloudflare&lt;/a>. So, I have configured 2 records&lt;/p>
&lt;ul>
&lt;li>CNAME to redirect &amp;ldquo;saikatkumardey.com&amp;rdquo; to &amp;ldquo;saikatkumardey.github.io&amp;rdquo;.&lt;/li>
&lt;li>CNAME to redirect &amp;ldquo;&lt;a href="https://www.saikatkumardey.com">www.saikatkumardey.com&lt;/a>&amp;rdquo; to &amp;ldquo;saikatkumardey.github.io&amp;rdquo;.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>Make sure that you set the Source of your Github Pages site to be built from the gh-pages branch. Go to Settings &amp;gt; Pages &amp;gt; Source. Check if it&amp;rsquo;s set to gh-pages. This caused me a lot of pain. It&amp;rsquo;s set to &amp;ldquo;main&amp;rdquo; by default.&lt;/p>
&lt;/li>
&lt;/ul></description></item><item><title>Remote work</title><link>https://saikatkumardey.com/daily/remote-work/</link><pubDate>Thu, 26 May 2022 08:29:24 +0530</pubDate><guid>https://saikatkumardey.com/daily/remote-work/</guid><description>&lt;h3 id="remote-work-set-up-is-good">Remote work set-up is good.&lt;/h3>
&lt;p>You get to be with your family.&lt;/p>
&lt;p>You get to save a lot on rent, commute and overall high cost of living.&lt;/p>
&lt;p>You could do &lt;a href="https://www.calnewport.com/books/deep-work/">deep work&lt;/a>. Tuning out all the notifications is easy. You could focus on getting things done.&lt;/p>
&lt;hr>
&lt;h3 id="remote-work-set-up-is-bad">Remote work set-up is bad.&lt;/h3>
&lt;p>You don&amp;rsquo;t get to meet your team-mates regularly.&lt;/p>
&lt;p>Building trust takes a longer time.&lt;/p>
&lt;p>You&amp;rsquo;re not fully engaged with the company.&lt;/p>
&lt;p>Brainstorming with your colleagues is not seamless. In office, you could just walk up to their desk and ask for their suggestion.&lt;/p>
&lt;hr>
&lt;p>Hybrid work set-up is the way. We need the flexibility to do &amp;ldquo;deep work&amp;rdquo; from home most of the times as well as to meet our team every couple of months.&lt;/p></description></item><item><title>Building Pandas Dataframes From Ndarrays</title><link>https://saikatkumardey.com/essays/building-pandas-dataframes-from-ndarrays/</link><pubDate>Tue, 28 Sep 2021 10:06:23 +0530</pubDate><guid>https://saikatkumardey.com/essays/building-pandas-dataframes-from-ndarrays/</guid><description>&lt;p>At work, I have to switch between numpy &amp;amp; pandas depending on the computational needs. Numpy is faster. Pandas is easier to work with.&lt;/p>
&lt;p>One of the tasks I&amp;rsquo;ve faced often was to convert a 3-dimensional ndarray to a pandas dataframe. I will share my preferred technique in this post today.&lt;/p>
&lt;p>For the purpose of this exercise, I&amp;rsquo;ll generate dummy sales data for a retail company. The dimensions include products, locations, and sales.&lt;/p>
&lt;h1 id="convert-ndarray-to-pandas-dataframe">Convert ndarray to pandas dataframe&lt;/h1>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-python" data-lang="python">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#719e07">import&lt;/span> pandas &lt;span style="color:#719e07">as&lt;/span> pd
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#719e07">import&lt;/span> numpy &lt;span style="color:#719e07">as&lt;/span> np
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="1d--dimension--sales">1d : dimension = sales&lt;/h2>
&lt;p>Let&amp;rsquo;s start with 1d data. What if we only had sales info for all products and locations?&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-python" data-lang="python">&lt;span style="display:flex;">&lt;span>arr_1d &lt;span style="color:#719e07">=&lt;/span> np&lt;span style="color:#719e07">.&lt;/span>random&lt;span style="color:#719e07">.&lt;/span>randint(
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> low&lt;span style="color:#719e07">=&lt;/span>&lt;span style="color:#2aa198">1&lt;/span>,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> high&lt;span style="color:#719e07">=&lt;/span>&lt;span style="color:#2aa198">10&lt;/span>,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> size&lt;span style="color:#719e07">=&lt;/span>&lt;span style="color:#2aa198">3&lt;/span>,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#b58900">print&lt;/span>(arr_1d)
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;pre>&lt;code>[9 3 6]
&lt;/code>&lt;/pre>
&lt;p>That&amp;rsquo;s easy. Ideally, 1-d information should be represented as a Series.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-python" data-lang="python">&lt;span style="display:flex;">&lt;span>df_1d &lt;span style="color:#719e07">=&lt;/span> pd&lt;span style="color:#719e07">.&lt;/span>DataFrame(arr_1d, columns&lt;span style="color:#719e07">=&lt;/span>[&lt;span style="color:#2aa198">&amp;#34;sales&amp;#34;&lt;/span>])
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#b58900">print&lt;/span>(df_1d)
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;pre>&lt;code> sales
0 9
1 3
2 6
&lt;/code>&lt;/pre>
&lt;h2 id="2d-dimension--sales--product">2d: dimension = sales * product&lt;/h2>
&lt;p>Let&amp;rsquo;s move on to 2 dimensions. Now, we have data corresponding to different products.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-python" data-lang="python">&lt;span style="display:flex;">&lt;span>arr_2d &lt;span style="color:#719e07">=&lt;/span> np&lt;span style="color:#719e07">.&lt;/span>random&lt;span style="color:#719e07">.&lt;/span>randint(
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> low&lt;span style="color:#719e07">=&lt;/span>&lt;span style="color:#2aa198">1&lt;/span>,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> high&lt;span style="color:#719e07">=&lt;/span>&lt;span style="color:#2aa198">10&lt;/span>,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> size&lt;span style="color:#719e07">=&lt;/span>(&lt;span style="color:#2aa198">3&lt;/span>, &lt;span style="color:#2aa198">2&lt;/span>),
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#b58900">print&lt;/span>(arr_2d)
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;pre>&lt;code>[[4 6]
[8 1]
[2 7]]
&lt;/code>&lt;/pre>
&lt;p>Pandas DataFrame can handle 2-D ndarrays out of the box.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-python" data-lang="python">&lt;span style="display:flex;">&lt;span>df_2d &lt;span style="color:#719e07">=&lt;/span> pd&lt;span style="color:#719e07">.&lt;/span>DataFrame(arr_2d, columns&lt;span style="color:#719e07">=&lt;/span>[&lt;span style="color:#2aa198">&amp;#34;product&amp;#34;&lt;/span>, &lt;span style="color:#2aa198">&amp;#34;sales&amp;#34;&lt;/span>])&lt;span style="color:#719e07">.&lt;/span>set_index(&lt;span style="color:#2aa198">&amp;#34;product&amp;#34;&lt;/span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#b58900">print&lt;/span>(df_2d)
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;pre>&lt;code> sales
product
4 6
8 1
2 7
&lt;/code>&lt;/pre>
&lt;h2 id="3d--dimension--location-x-product-x-sales">3d : dimension = location x product x sales&lt;/h2>
&lt;p>Now, what if we have a ndarray corresponding to all products for several locations?&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-python" data-lang="python">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#586e75"># failure&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>arr_3d &lt;span style="color:#719e07">=&lt;/span> np&lt;span style="color:#719e07">.&lt;/span>random&lt;span style="color:#719e07">.&lt;/span>randint(
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> low&lt;span style="color:#719e07">=&lt;/span>&lt;span style="color:#2aa198">1&lt;/span>,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> high&lt;span style="color:#719e07">=&lt;/span>&lt;span style="color:#2aa198">10&lt;/span>,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> size&lt;span style="color:#719e07">=&lt;/span>(&lt;span style="color:#2aa198">5&lt;/span>, &lt;span style="color:#2aa198">3&lt;/span>, &lt;span style="color:#2aa198">1&lt;/span>),
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#b58900">print&lt;/span>(arr_3d)
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;pre>&lt;code>[[[9]
[6]
[2]]
[[1]
[4]
[4]]
[[2]
[5]
[6]]
[[9]
[6]
[5]]
[[1]
[6]
[1]]]
&lt;/code>&lt;/pre>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-python" data-lang="python">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#586e75"># the following raises ValueError&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#586e75"># pandas DataFrame expects a 2-d input&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>df_3d &lt;span style="color:#719e07">=&lt;/span> pd&lt;span style="color:#719e07">.&lt;/span>DataFrame(arr_3d, columns&lt;span style="color:#719e07">=&lt;/span>[&lt;span style="color:#2aa198">&amp;#34;location&amp;#34;&lt;/span>, &lt;span style="color:#2aa198">&amp;#34;product&amp;#34;&lt;/span>, &lt;span style="color:#2aa198">&amp;#34;sales&amp;#34;&lt;/span>])
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>pandas won&amp;rsquo;t work out of the box. It cannot handle more than 2 dimensions. So, it raises a &lt;code>ValueError&lt;/code>.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bas" data-lang="bas">&lt;span style="display:flex;">&lt;span> &lt;span style="color:#719e07">---------------------------------------------------------------------------&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> ValueError Traceback (most recent call last)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#719e07">/&lt;/span>var&lt;span style="color:#719e07">/&lt;/span>folders&lt;span style="color:#719e07">/&lt;/span>jq&lt;span style="color:#719e07">/&lt;/span>ksxbjg7d58g9v9rrcl0f38380000gn&lt;span style="color:#719e07">/&lt;/span>T&lt;span style="color:#719e07">/&lt;/span>ipykernel_12628&lt;span style="color:#719e07">/&lt;/span>&lt;span style="color:#2aa198">1531564731&lt;/span>&lt;span style="color:#719e07">.&lt;/span>py in &lt;span style="color:#719e07">&amp;lt;&lt;/span>module&lt;span style="color:#719e07">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#2aa198">1&lt;/span> # the following raises ValueError
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#2aa198">2&lt;/span> # pandas DataFrame expects a &lt;span style="color:#2aa198">2&lt;/span>&lt;span style="color:#719e07">-&lt;/span>d input
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#719e07">----&amp;gt;&lt;/span> &lt;span style="color:#2aa198">3&lt;/span> df_3d &lt;span style="color:#719e07">=&lt;/span> pd&lt;span style="color:#719e07">.&lt;/span>DataFrame(arr_3d, columns&lt;span style="color:#719e07">=&lt;/span>[&lt;span style="color:#2aa198">&amp;#34;location&amp;#34;&lt;/span>, &lt;span style="color:#2aa198">&amp;#34;product&amp;#34;&lt;/span>, &lt;span style="color:#2aa198">&amp;#34;sales&amp;#34;&lt;/span>])
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#719e07">.&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#719e07">.&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#719e07">.&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> ValueError: Must pass &lt;span style="color:#2aa198">2&lt;/span>&lt;span style="color:#719e07">-&lt;/span>d input&lt;span style="color:#719e07">.&lt;/span> shape&lt;span style="color:#719e07">=&lt;/span>(&lt;span style="color:#2aa198">5&lt;/span>, &lt;span style="color:#2aa198">3&lt;/span>, &lt;span style="color:#2aa198">1&lt;/span>)
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>The solution?&lt;/p>
&lt;p>&lt;code>MultiIndex&lt;/code>.&lt;/p>
&lt;p>Assuming that the ndarray is ordered by location/products, we could prepare a multi-index, flatten our ndarray and let Pandas reshape it according to the provided index.&lt;/p>
&lt;p>Sweet!&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-python" data-lang="python">&lt;span style="display:flex;">&lt;span>index &lt;span style="color:#719e07">=&lt;/span> pd&lt;span style="color:#719e07">.&lt;/span>MultiIndex&lt;span style="color:#719e07">.&lt;/span>from_product(
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> [&lt;span style="color:#b58900">range&lt;/span>(dim) &lt;span style="color:#719e07">for&lt;/span> dim &lt;span style="color:#719e07">in&lt;/span> arr_3d&lt;span style="color:#719e07">.&lt;/span>shape[:&lt;span style="color:#719e07">-&lt;/span>&lt;span style="color:#2aa198">1&lt;/span>]],
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> names&lt;span style="color:#719e07">=&lt;/span>[&lt;span style="color:#2aa198">&amp;#34;location&amp;#34;&lt;/span>, &lt;span style="color:#2aa198">&amp;#34;product&amp;#34;&lt;/span>],
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>df_3d &lt;span style="color:#719e07">=&lt;/span> pd&lt;span style="color:#719e07">.&lt;/span>DataFrame(arr_3d&lt;span style="color:#719e07">.&lt;/span>flatten(), index&lt;span style="color:#719e07">=&lt;/span>index, columns&lt;span style="color:#719e07">=&lt;/span>[&lt;span style="color:#2aa198">&amp;#34;sales&amp;#34;&lt;/span>])
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#b58900">print&lt;/span>(df_3d)
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;pre>&lt;code> sales
location product
0 0 9
1 6
2 2
1 0 1
1 4
2 4
2 0 2
1 5
2 6
3 0 9
1 6
2 5
4 0 1
1 6
2 1
&lt;/code>&lt;/pre>
&lt;p>We just have sales corresponding to each location and product. What if the final &lt;code>sales&lt;/code> dimension includes sales for yesterday/today (or for every month, every week, etc.) ?&lt;/p>
&lt;h2 id="3d--dimension--location-x-product-x-sales-multi">3d : dimension = location x product x sales (multi)&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-python" data-lang="python">&lt;span style="display:flex;">&lt;span>arr_3d &lt;span style="color:#719e07">=&lt;/span> np&lt;span style="color:#719e07">.&lt;/span>random&lt;span style="color:#719e07">.&lt;/span>randint(
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> low&lt;span style="color:#719e07">=&lt;/span>&lt;span style="color:#2aa198">1&lt;/span>,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> high&lt;span style="color:#719e07">=&lt;/span>&lt;span style="color:#2aa198">10&lt;/span>,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> size&lt;span style="color:#719e07">=&lt;/span>(&lt;span style="color:#2aa198">5&lt;/span>, &lt;span style="color:#2aa198">3&lt;/span>, &lt;span style="color:#2aa198">2&lt;/span>),
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#b58900">print&lt;/span>(arr_3d)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>index &lt;span style="color:#719e07">=&lt;/span> pd&lt;span style="color:#719e07">.&lt;/span>MultiIndex&lt;span style="color:#719e07">.&lt;/span>from_product(
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> [&lt;span style="color:#b58900">range&lt;/span>(dim) &lt;span style="color:#719e07">for&lt;/span> dim &lt;span style="color:#719e07">in&lt;/span> arr_3d&lt;span style="color:#719e07">.&lt;/span>shape],
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> names&lt;span style="color:#719e07">=&lt;/span>[&lt;span style="color:#2aa198">&amp;#34;location&amp;#34;&lt;/span>, &lt;span style="color:#2aa198">&amp;#34;product&amp;#34;&lt;/span>, &lt;span style="color:#2aa198">&amp;#34;sales&amp;#34;&lt;/span>],
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>)
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;pre>&lt;code>[[[1 9]
[8 6]
[9 4]]
[[4 9]
[3 9]
[1 8]]
[[5 2]
[9 9]
[1 9]]
[[4 5]
[7 4]
[7 7]]
[[6 9]
[4 2]
[7 1]]]
&lt;/code>&lt;/pre>
&lt;p>No major changes. Pandas should handle it just like before. Just unstack the sales dimension and rename the columns for readability.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-python" data-lang="python">&lt;span style="display:flex;">&lt;span>df_3d &lt;span style="color:#719e07">=&lt;/span> pd&lt;span style="color:#719e07">.&lt;/span>DataFrame(
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> arr_3d&lt;span style="color:#719e07">.&lt;/span>flatten(),
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> index&lt;span style="color:#719e07">=&lt;/span>index,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> columns&lt;span style="color:#719e07">=&lt;/span>[&lt;span style="color:#2aa198">&amp;#34;sales&amp;#34;&lt;/span>],
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>df_3d &lt;span style="color:#719e07">=&lt;/span> df_3d&lt;span style="color:#719e07">.&lt;/span>unstack(&lt;span style="color:#719e07">-&lt;/span>&lt;span style="color:#2aa198">1&lt;/span>)&lt;span style="color:#719e07">.&lt;/span>rename(
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> columns&lt;span style="color:#719e07">=&lt;/span>{&lt;span style="color:#2aa198">0&lt;/span>: &lt;span style="color:#2aa198">&amp;#34;yesterday&amp;#34;&lt;/span>, &lt;span style="color:#2aa198">1&lt;/span>: &lt;span style="color:#2aa198">&amp;#34;today&amp;#34;&lt;/span>},
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#b58900">print&lt;/span>(df_3d)
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;div class="highlight">&lt;pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-fallback" data-lang="fallback">&lt;span style="display:flex;">&lt;span> sales yesterday today
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> location product
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> 0 0 1 9
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> 1 8 6
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> 2 9 4
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> 1 0 4 9
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> 1 3 9
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> 2 1 8
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> 2 0 5 2
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> 1 9 9
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> 2 1 9
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> 3 0 4 5
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> 1 7 4
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> 2 7 7
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> 4 0 6 9
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> 1 4 2
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> 2 7 1
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Do you know of other ways to switch between ndarray and DataFrame? Comment below :)&lt;/p></description></item><item><title>Book notes: Show Your Work by Austin Kleon</title><link>https://saikatkumardey.com/essays/book-notes-show-your-work-by-austin-kleon/</link><pubDate>Wed, 22 Sep 2021 10:01:12 +0530</pubDate><guid>https://saikatkumardey.com/essays/book-notes-show-your-work-by-austin-kleon/</guid><description>&lt;p>â€œFind a scenius, pay attention to what others are sharing, and then start taking note of what theyâ€™re not sharing. Be on the lookout for voids that you can fill with your own efforts, no matter how bad they are at first. Donâ€™t worry, for now, about how youâ€™ll make money or a career off it. Forget about being an expert or a professional, and wear your amateurism (your heart, your love) on your sleeve. Share what you love, and the people who love the same things will find you.â€&lt;/p>
&lt;hr>
&lt;p>â€œWhen George Lucas was a teenager, he almost died in a car accident. He decided â€œevery day now is an extra day,â€ dedicated himself to film, and went on to direct Star Wars.â€&lt;/p>
&lt;p>â€œI realized I was going to die,â€ he says. â€œAnd when that gets into your mind . . . it utterly changed me . . . I thought, Iâ€™m not going to sit here and wait for things to happen, Iâ€™m going to make them happen, and if people think Iâ€™m an idiot I donâ€™t care.â€&lt;/p>
&lt;hr>
&lt;p>â€œTo all viewers but yourself, what matters is the product: the finished artwork. To you, and you alone, what matters is the process: the experience of shaping the artwork.â€&lt;/p>
&lt;hr>
&lt;p>â€œBy letting go of our egos and sharing our process, we allow for the possibility of people having an ongoing connection with us and our work, which helps us move more of our productâ€&lt;/p>
&lt;hr>
&lt;p>â€œWeâ€™re not all artists or astronauts. A lot of us go about our work and feel like we have nothing to show for it at the end of the day.â€&lt;/p>
&lt;hr>
&lt;p>â€œwhatever the nature of your work, there is an art to what you do, and there are people who would be interested in that art, if only you presented it to them in the right way.â€&lt;/p>
&lt;hr>
&lt;p>â€œsharing your process might actually be most valuable if the products of your work arenâ€™t easily shared, if youâ€™re still in the apprentice stage of your work, if you canâ€™t just slap up a portfolio and call it a day, or if your process doesnâ€™t necessarily lead to tangible finished products.â€&lt;/p>
&lt;hr>
&lt;p>â€œNo one is going to give a damn about your rÃ©sumÃ©; they want to see what you have made with your own little fingers.â€&lt;/p>
&lt;hr>
&lt;p>â€œOnce a day, after youâ€™ve done your dayâ€™s work, go back to your documentation and find one little piece of your process that you can shareâ€&lt;/p>
&lt;hr>
&lt;p>â€œWhere you are in your process will determine what that piece is. If youâ€™re in the very early stages, share your influences and whatâ€™s inspiring you. If youâ€™re in the middle of executing a project, write about your methods or share works in progress. If youâ€™ve just completed a project, show the final product, share scraps from the cutting-room floor, or write about what you learnedâ€&lt;/p>
&lt;hr>
&lt;p>â€œThe act of sharing is one of generosityâ€”youâ€™re putting something out there because you think it might be helpful or entertaining to someone on the other side of the screen.â€&lt;/p>
&lt;hr>
&lt;p>â€œBuild a good name. Keep your name clean. Donâ€™t make compromises. Donâ€™t worry about making a bunch of money or being successful. Be concerned with doing good work . . . and if you can build a good name, eventually that name will be its own currency.â€&lt;/p>
&lt;hr>
&lt;p>â€œAll it takes to uncover hidden gems is a clear eye, an open mind, and a willingness to search for inspiration in places other people arenâ€™t willing or able to go.â€&lt;/p>
&lt;hr>
&lt;p>â€œWe all love things that other people think are garbage. You have to have the courage to keep loving your garbage, because what makes us unique is the diversity and breadth of our influences, the unique ways in which we mix up the parts of culture others have deemed â€œhighâ€ and the â€œlow.â€&lt;/p>
&lt;hr>
&lt;p>â€œWhen you find things you genuinely enjoy, donâ€™t let anyone else make you feel bad about it. Donâ€™t feel guilty about the pleasure you take in the things you enjoy. Celebrate them. When you share your taste and your influences, have the guts to own all of it. Donâ€™t give in to the pressure to self-edit too much.â€&lt;/p>
&lt;hr>
&lt;p>â€œA character wants something, goes after it despite opposition (perhaps including his own doubts), and so arrives at a win, lose, or draw.â€&lt;/p>
&lt;hr>
&lt;p>â€œYou get a great idea, you go through the hard work of executing the idea, and then you release the idea out into the world, coming to a win, lose, or draw. Sometimes the idea succeeds, sometimes it fails, and more often than not, it does nothing at all.â€&lt;/p>
&lt;hr>
&lt;p>â€œA good pitch is set up in three acts: The first act is the past, the second act is the present, and the third act is the future.â€
â€œThe first act is where youâ€™ve beenâ€”what you want, how you came to want it, and what youâ€™ve done so far to get it.â€
â€œThe second act is where you are now in your work and how youâ€™ve worked hard and used up most of your resources. The third act is where youâ€™re going, and how exactly the person youâ€™re pitching can help you get there. â€&lt;/p>
&lt;hr>
&lt;p>â€œThink about what you can share from your process that would inform the people youâ€™re trying to reach. Have you learned a craft? What are your techniques? Are you skilled at using certain tools and materials? What kind of knowledge comes along with your job?â€&lt;/p>
&lt;hr>
&lt;p>â€œThe minute you learn something, turn around and teach it to others. Share your reading list. Point to helpful reference materials. Create some tutorials and post them online. Use pictures, words, and video. Take people step-by-step through part of your process. As blogger Kathy Sierra says, â€œMake people better at something they want to be better at.â€&lt;/p>
&lt;hr>
&lt;p>â€œTeaching people doesnâ€™t subtract value from what you do, it actually adds to it. When you teach someone how to do your work, you are, in effect, generating more interest in your work. People feel closer to your work because youâ€™re letting them in on what you know.â€&lt;/p>
&lt;hr>
&lt;p>â€œDonâ€™t talk to people you donâ€™t want to talk to, and donâ€™t talk about stuff you donâ€™t want to talk about.â€&lt;/p>
&lt;hr>
&lt;p>â€œlife is all about â€œwho you know.â€ But who you know is largely dependent on who you are and what you do, and the people you know canâ€™t do anything for you if youâ€™re not doing good work.â€&lt;/p>
&lt;hr>
&lt;p>â€œMake stuff you love and talk about stuff you love and youâ€™ll attract people who love that kind of stuff. Itâ€™s that simple.â€&lt;/p>
&lt;hr>
&lt;p>â€œTry new things. If an opportunity comes along that will allow you to do more of the kind of work you want to do, say Yes. If an opportunity comes along that would mean more money, but less of the kind of work you want to do, say No.â€&lt;/p>
&lt;hr>
&lt;p>â€œYou avoid stalling out in your career by never losing momentum.â€&lt;/p>
&lt;hr>
&lt;p>â€œInstead of taking a break in between projects, waiting for feedback, and worrying about whatâ€™s next, use the end of one project to light up the next one. â€&lt;/p>
&lt;hr>
&lt;p>â€œJust do the work thatâ€™s in front of you, and when itâ€™s finished, ask yourself what you missed, what you couldâ€™ve done better, or what you couldnâ€™t get to, and jump right into the next project.â€&lt;/p>
&lt;hr>
&lt;p>â€œWhen you throw out old work, what youâ€™re really doing is making room for new work.â€&lt;/p>
&lt;hr>
&lt;p>â€œLook for something new to learn, and when you find it, dedicate yourself to learning it out in the open. Document your progress and share as you go so that others can learn along with you. Show your work, and when the right people show up, pay close attention to them, because theyâ€™ll have a lot to show you.â€&lt;/p></description></item><item><title>Book notes: Anything You Want by Derek Sivers</title><link>https://saikatkumardey.com/essays/book-notes-anything-you-want-by-derek-sivers/</link><pubDate>Wed, 22 Sep 2021 10:00:34 +0530</pubDate><guid>https://saikatkumardey.com/essays/book-notes-anything-you-want-by-derek-sivers/</guid><description>&lt;p>Don&amp;rsquo;t be on your deathbed someday, having squandered your one chance at life, full of regret because you pursued little distractions instead of big dreams.&lt;/p>
&lt;hr>
&lt;p>Once you&amp;rsquo;ve got a hit, suddenly all the locked doors open wide. People love the hit so much that it seems to promote itself. Instead of trying to create demand, you&amp;rsquo;re managing the huge demand&lt;/p>
&lt;hr>
&lt;p>Success comes from persistently improving and inventing, not from persistently doing what&amp;rsquo;s not working.&lt;/p>
&lt;hr>
&lt;p>We all have lots of ideas, creations, and projects. When you present one to the world, and it&amp;rsquo;s not a hit, don&amp;rsquo;t keep pushing it as-is. Instead, get back to improving and inventing.&lt;/p>
&lt;hr>
&lt;p>Present each new idea or improvement to the world. If multiple people are saying, â€œWow! Yes! I need this! I&amp;rsquo;d be happy to pay you to do this!â€ then you should probably do it. But if the response is anything less, don&amp;rsquo;t pursue it.&lt;/p>
&lt;hr>
&lt;p>Don&amp;rsquo;t waste years fighting uphill battles against locked doors. Improve or invent until you get that huge response.&lt;/p>
&lt;hr>
&lt;p>No â€œyes.â€ Either â€œHELL YEAH!â€ or â€œno.â€&lt;/p>
&lt;hr>
&lt;p>If you&amp;rsquo;re not saying â€œHELL YEAH!â€ about something, say â€œno.â€&lt;/p>
&lt;hr>
&lt;p>When deciding whether to do something, if you feel anything less than â€œWow! That would be amazing! Absolutely! Hell yeah!â€â€”then say â€œno.â€&lt;/p>
&lt;hr>
&lt;p>We&amp;rsquo;re all busy. We&amp;rsquo;ve all taken on too much. Saying yes to less is the way out.&lt;/p>
&lt;hr>
&lt;p>Start now. No funding needed.&lt;/p>
&lt;hr>
&lt;p>If you want to be useful, you can always start now, with only 1 percent of what you have in your grand vision. It&amp;rsquo;ll be a humble prototype version of your grand vision, but you&amp;rsquo;ll be in the game. You&amp;rsquo;ll be ahead of the rest, because you actually started, while others are waiting for the finish line to magically appear at the starting line.&lt;/p>
&lt;hr>
&lt;p>Starting small puts 100 percent of your energy on actually solving real problems for real people. It gives you a stronger foundation to grow from. It eliminates the friction of big infrastructure and gets right to the point. And it will let you change your plan in an instant, as you&amp;rsquo;re working closely with those first customers telling you what they really need.&lt;/p>
&lt;hr>
&lt;p>So no, your idea doesn&amp;rsquo;t need funding to start. (You also don&amp;rsquo;t need an MBA, a particular big client, a certain person&amp;rsquo;s endorsement, a lucky break, or any other common excuse not to start.)&lt;/p>
&lt;hr>
&lt;p>You need to confidently exclude people, and proudly say what you&amp;rsquo;re not. By doing so, you will win the hearts of the people you want.&lt;/p>
&lt;hr>
&lt;p>Are you helping people? Are they happy? Are you happy? Are you profitable? Isn&amp;rsquo;t that enough?
How do you grade yourself?&lt;/p>
&lt;hr>
&lt;p>How do you grade yourself?
It&amp;rsquo;s important to know in advance, to make sure you&amp;rsquo;re staying focused on what&amp;rsquo;s honestly important to you, instead of doing what others think you should.&lt;/p>
&lt;hr>
&lt;p>People fall in love with people who won&amp;rsquo;t give them the time of day.&lt;/p>
&lt;hr>
&lt;p>If you set up your business like you don&amp;rsquo;t need the money, people are happier to pay you.&lt;/p>
&lt;hr>
&lt;p>When someone&amp;rsquo;s doing something for love, being generous instead of stingy, trusting instead of fearful, it triggers this law: We want to give to those who give.&lt;/p>
&lt;hr>
&lt;p>It&amp;rsquo;s another Tao of business: Set up your business like you don&amp;rsquo;t need the money, and it&amp;rsquo;ll likely come your way.&lt;/p>
&lt;hr>
&lt;p>But no matter what business you&amp;rsquo;re in, it&amp;rsquo;s good to prepare for what would happen if business doubled.&lt;/p>
&lt;hr>
&lt;p>You might get bigger faster and make millions if you outsourced everything to the experts. But what&amp;rsquo;s the point of getting bigger and making millions? To be happy, right?&lt;/p>
&lt;hr>
&lt;p>In the end, it&amp;rsquo;s about what you want to be, not what you want to have.&lt;/p>
&lt;hr>
&lt;p>To have something (a finished recording, a business, or millions of dollars) is the means, not the end. To be something (a good singer, a skilled entrepreneur, or just plain happy) is the real point.&lt;/p>
&lt;hr>
&lt;p>When you sign up to run a marathon, you don&amp;rsquo;t want a taxi to take you to the finish line.&lt;/p>
&lt;hr>
&lt;p>To be a true business owner, make sure you could leave for a year, and when you came back, your business would be doing better than when you left.&lt;/p>
&lt;hr>
&lt;p>Never forget that you can make your role anything you want it to be.&lt;/p>
&lt;hr>
&lt;p>Anything you hate to do, someone else loves. So find that person and let him do it.&lt;/p>
&lt;hr>
&lt;p>For me, I loved sitting alone and programming, writing, planning, and inventing. Thinking of ideas and making them happen. This makes me happy, not business deals or management. So I found someone who liked doing business deals and put him in charge of all that.&lt;/p>
&lt;hr>
&lt;p>Delegate, but don&amp;rsquo;t abdicate.&lt;/p>
&lt;hr>
&lt;p>Just pay close attention to what excites you and what drains you. Pay close attention to when you&amp;rsquo;re being the real you and when you&amp;rsquo;re trying to impress an invisible jury.&lt;/p></description></item><item><title>A Simplified Implementation of Quicksort</title><link>https://saikatkumardey.com/essays/a-simplified-implementation-of-quicksort/</link><pubDate>Sun, 05 Sep 2021 09:59:45 +0530</pubDate><guid>https://saikatkumardey.com/essays/a-simplified-implementation-of-quicksort/</guid><description>&lt;p>Quicksort is a beautiful algorithm. It&amp;rsquo;s considered the fastest sorting algorithm in practice. Most implementations I&amp;rsquo;ve seen online are complicated. This post will demonstrate a simple implementation that trades space complexity for readability.&lt;/p>
&lt;h2 id="how-does-quicksort-work">How does quicksort work?&lt;/h2>
&lt;p>3 steps.&lt;/p>
&lt;ol>
&lt;li>&lt;strong>Choose&lt;/strong> a pivot element.&lt;/li>
&lt;li>&lt;strong>Partition&lt;/strong>: Put all elements smaller than the pivot in a smaller array, (say, smaller_subarray). Put all elements greater than the pivot in another array (say, greater_subarray).&lt;/li>
&lt;li>&lt;strong>Recurse &amp;amp; Merge&lt;/strong>: Recursively sort the smaller and greater sub-arrays. Merge the sorted arrays with the pivot.&lt;/li>
&lt;/ol>
&lt;h2 id="how-do-we-implement-it-in-python">How do we implement it in Python?&lt;/h2>
&lt;p>Let&amp;rsquo;s start with the high-level function &lt;code>quicksort()&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-python" data-lang="python">&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#719e07">def&lt;/span> &lt;span style="color:#268bd2">quicksort&lt;/span>(array: List[&lt;span style="color:#b58900">int&lt;/span>]) &lt;span style="color:#719e07">-&amp;gt;&lt;/span> List[&lt;span style="color:#b58900">int&lt;/span>]:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#2aa198">&amp;#34;&amp;#34;&amp;#34;Recursive implementation of quicksort.
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#2aa198">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#2aa198"> Args:
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#2aa198"> array (List[int]): a list of integers
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#2aa198">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#2aa198"> Returns:
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#2aa198"> List[int]: sorted array
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#2aa198"> &amp;#34;&amp;#34;&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#586e75"># Base case&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#719e07">if&lt;/span> &lt;span style="color:#b58900">len&lt;/span>(array) &lt;span style="color:#719e07">&amp;lt;=&lt;/span> &lt;span style="color:#2aa198">1&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#719e07">return&lt;/span> array
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#586e75"># Step 1: choose a pivot&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> pivot_idx &lt;span style="color:#719e07">=&lt;/span> random&lt;span style="color:#719e07">.&lt;/span>choice(&lt;span style="color:#b58900">range&lt;/span>(&lt;span style="color:#b58900">len&lt;/span>(array)))
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#586e75"># Step 2: partition&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> smaller_subarray, greater_subarray &lt;span style="color:#719e07">=&lt;/span> partition(array, pivot_idx)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#586e75"># Step 3: Recurse on smaller and greater subarrays.&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#719e07">return&lt;/span> (
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> quicksort(smaller_subarray)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#719e07">+&lt;/span> [array[pivot_idx]]
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#719e07">+&lt;/span> quicksort(greater_subarray)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> )
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Let&amp;rsquo;s go line by line,&lt;/p>
&lt;h3 id="base-case">Base case&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-python" data-lang="python">&lt;span style="display:flex;">&lt;span> &lt;span style="color:#719e07">if&lt;/span> &lt;span style="color:#b58900">len&lt;/span>(array) &lt;span style="color:#719e07">&amp;lt;=&lt;/span> &lt;span style="color:#2aa198">1&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#719e07">return&lt;/span> array
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Every recursive function must have one. If we have an empty or single-item array, there&amp;rsquo;s nothing to sort. We simply return the array.&lt;/p>
&lt;h3 id="step-1-choose-a-pivot">Step 1: Choose a pivot&lt;/h3>
&lt;p>&lt;code> pivot_idx = random.choice(range(len(array)))&lt;/code>&lt;/p>
&lt;p>The choice of pivot is the difference between having an &lt;code>O(N log N)&lt;/code> vs &lt;code>O(N^2)&lt;/code> time complexity.&lt;/p>
&lt;p>How so? Let&amp;rsquo;s take an example.&lt;/p>
&lt;p>The worst-case involves having an already sorted array.&lt;/p>
&lt;p>&lt;code>array = [1,2,3,4,5]&lt;/code>&lt;/p>
&lt;p>The image below shows recursion trees using two different pivot selection strategies:&lt;/p>
&lt;p>&lt;strong>Legend&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Blue lines =&amp;gt; the greater subarray.&lt;/li>
&lt;li>Orange lines =&amp;gt; the smaller subarray.&lt;/li>
&lt;li>Red lines =&amp;gt; the pivot.&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://cdn.hashnode.com/res/hashnode/image/upload/v1630829735302/4wvnJNbu8.png" alt="Screenshot 2021-09-05 at 1.45.23 PM.png">&lt;/p>
&lt;ol>
&lt;li>
&lt;p>Left shows the case where we always choose the first/last item as the pivot. This leads to higher recursion depth as the subproblem size reduces by 1 at each level. We have roughly &lt;code>O(N)&lt;/code> levels / recursive calls. Since joining the sub-arrays with the pivot is &lt;code>O(N)&lt;/code>, this leads to &lt;code>O(N^2)&lt;/code> time complexity.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Right shows the ideal case where we choose the median as the pivot at every level. This leads to balanced sub-problems. The recursion depth is lower, roughly &lt;code>O(log N)&lt;/code>. This leads to &lt;code>O(N log N)&lt;/code> time complexity.&lt;/p>
&lt;/li>
&lt;/ol>
&lt;p>&lt;a href="https://www.cs.cmu.edu/afs/cs/academic/class/15451-s07/www/lecture_notes/lect0123.pdf">Choosing a random pivot leads to an &lt;em>expected&lt;/em> runtime of &lt;code>O(N log N)&lt;/code> time complexity&lt;/a>. We use that in this implementation.&lt;/p>
&lt;p>Wait! There&amp;rsquo;s still one case where &lt;code>quicksort()&lt;/code> could be &lt;code>O(N^2)&lt;/code>, even after choosing a randomized/median pivot. This is the case when every item in the array is identical. We could add a check to avoid this case as well.&lt;/p>
&lt;p>According to this &lt;a href="https://algs4.cs.princeton.edu/23quicksort/">source&lt;/a> ,&lt;/p>
&lt;blockquote>
&lt;p>The probability that quicksort will use a quadratic number of compares when sorting a large array on your computer is much less than the probability that your computer will be struck by lightning!&lt;/p>
&lt;/blockquote>
&lt;h3 id="step-2-partition">Step 2: Partition&lt;/h3>
&lt;p>We write the high-level function assuming that we have a magic function &lt;code>partition()&lt;/code> which returns two arrays.&lt;/p>
&lt;ul>
&lt;li>&lt;code>smaller_subarray&lt;/code>: all elements &lt;code>&amp;lt;=&lt;/code> the pivot&lt;/li>
&lt;li>&lt;code>greater_subarray&lt;/code>: all elements &lt;code>&amp;gt;&lt;/code> the pivot&lt;/li>
&lt;/ul>
&lt;p>The implementation of &lt;code>partition()&lt;/code> is quite simple. We compare each item in the array with the pivot. If it&amp;rsquo;s &lt;code>&amp;lt;=&lt;/code> pivot, we add it to the smaller sub-array, else we add it to the greater sub-array.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-python" data-lang="python">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#719e07">def&lt;/span> &lt;span style="color:#268bd2">partition&lt;/span>(array: List[&lt;span style="color:#b58900">int&lt;/span>], pivot_idx: &lt;span style="color:#b58900">int&lt;/span>) &lt;span style="color:#719e07">-&amp;gt;&lt;/span> Tuple[List[&lt;span style="color:#b58900">int&lt;/span>], List[&lt;span style="color:#b58900">int&lt;/span>]]:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#2aa198">&amp;#34;&amp;#34;&amp;#34;Parition array into subarrays smaller and greater than the pivot.
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#2aa198">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#2aa198"> Args:
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#2aa198"> array (List[int]): input array
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#2aa198"> pivot_idx (int): index of the pivot
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#2aa198">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#2aa198"> Returns:
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#2aa198"> Tuple[List[int], List[int]]: smaller subarray, greater subarray
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#2aa198"> &amp;#34;&amp;#34;&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> smaller_subarray, greater_subarray &lt;span style="color:#719e07">=&lt;/span> [], []
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#719e07">for&lt;/span> idx, item &lt;span style="color:#719e07">in&lt;/span> &lt;span style="color:#b58900">enumerate&lt;/span>(array):
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#586e75"># we don&amp;#39;t want to add pivot to any of the sub-arrays&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#719e07">if&lt;/span> idx &lt;span style="color:#719e07">==&lt;/span> pivot_idx:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#719e07">continue&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#719e07">if&lt;/span> item &lt;span style="color:#719e07">&amp;lt;=&lt;/span> array[pivot_idx]:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> smaller_subarray&lt;span style="color:#719e07">.&lt;/span>append(item)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#719e07">else&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> greater_subarray&lt;span style="color:#719e07">.&lt;/span>append(item)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#719e07">return&lt;/span> smaller_subarray, greater_subarray
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="step-3">Step 3:&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-python" data-lang="python">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#719e07">return&lt;/span> (
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> quicksort(smaller_subarray)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#719e07">+&lt;/span> [array[pivot_idx]]
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#719e07">+&lt;/span> quicksort(greater_subarray)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> )
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>This step is quite exquisite. We recurse on the smaller and greater sub-arrays and place the pivot in between them. The beauty of a recursive implementation is that we could re-use our function with a smaller size of the input and trust that it would work.&lt;/p>
&lt;p>Let&amp;rsquo;s unroll it a bit.&lt;/p>
&lt;ul>
&lt;li>&lt;code>quicksort(smaller_subarray)&lt;/code> =&amp;gt; returns a sorted version of the &lt;code>smaller_subarray&lt;/code>&lt;/li>
&lt;li>&lt;code>[array[pivot_idx]]&lt;/code> =&amp;gt; out pivot in a list. It&amp;rsquo;s needed for concatenating it with the other two lists.&lt;/li>
&lt;li>&lt;code>quicksort(greater_subarray)&lt;/code> =&amp;gt; returns a sorted version of the &lt;code>greater_subarray&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>Now, we join the 3 lists including the pivot, and return the final sorted list.&lt;/p>
&lt;h2 id="complexity">Complexity&lt;/h2>
&lt;h3 id="time">Time&lt;/h3>
&lt;p>&lt;strong>Expected&lt;/strong> run-time of &lt;code>O(N log N)&lt;/code> since it&amp;rsquo;s a randomized implementation.&lt;/p>
&lt;p>We do &lt;code>O(N)&lt;/code> work at each &lt;code>quicksort()&lt;/code> call. The major components are &lt;code>partition()&lt;/code> and merge step - both are &lt;code>O(N)&lt;/code>.&lt;/p>
&lt;p>For randomized implementation, we have O(log N) levels/recursive calls.&lt;/p>
&lt;p>So, expected time complexity ~ &lt;code>Number of recursive calls&lt;/code> * &lt;code>work done per recursive call&lt;/code> ~ &lt;code>O(N) * O(log N)&lt;/code> ~ &lt;code>O(N log N)&lt;/code>&lt;/p>
&lt;h3 id="space">Space&lt;/h3>
&lt;p>&lt;code>O(N)&lt;/code> since we use extra space for storing the smaller and greater sub-arrays. The recursion stack also uses &lt;code>O(log N)&lt;/code> space. Overall, this implementation uses &lt;code>O(N)&lt;/code> space.&lt;/p>
&lt;p>The in-place implementation without using auxiliary lists would lead to an &lt;code>O(log N)&lt;/code> space complexity.&lt;/p>
&lt;h2 id="the-code">The code&lt;/h2>
&lt;p>The implementation including the &lt;code>partition()&lt;/code> and tests are &lt;a href="https://gist.github.com/saikatkumardey/5c0eb3ed8d187046ed7d46ff4dab8fe1">here&lt;/a>.&lt;/p></description></item></channel></rss>